# Habilitar el motor de reescritura
RewriteEngine On

# Redirigir todo el tráfico al archivo index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Proteger archivos sensibles
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# Proteger carpetas de configuración
RedirectMatch 403 /config/
RedirectMatch 403 /models/
RedirectMatch 403 /controllers/

# Permitir acceso a recursos públicos
<FilesMatch "\.(css|js|png|jpg|jpeg|gif|ico|pdf)$">
    Order allow,deny
    Allow from all
</FilesMatch>
